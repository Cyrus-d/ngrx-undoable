{"dependencies":[{"name":"./undoable.action","loc":{"line":3,"column":32}}],"generated":{"js":"\"use strict\";exports.__esModule=!0;var t=require(\"./undoable.action\"),e=function(t){return t[t.length-1]},n=function(t){return t.slice(0,t.length-1)},r=function(t,e){return e?t.concat([e]):t},u=function(t){return[].concat.apply([],t)},s=function(t,e){return u(e).reduce(t,void 0)},o=function(t,e,n){return 0===e?t:o(n(t,e),--e,n)},c=function(t,e,n,u){return u(t.present,e)?t:function(t,e,n){var u=t.past;t.future;return{past:r(u,n),present:e,future:[]}}(t,e,n)},a=function(u,a,i){var f={past:[a],present:u(void 0,a),future:[]},p=function(t){return function(u,o){if(void 0===o&&(o=1),!function(t,e){return t.length>e}(u.past,o))return u;var c=e(u.past),a=r(u.future,c),i=n(u.past);return{past:i,present:s(t,i),future:a}}}(u),l=function(t){return function(u,o){if(void 0===o&&(o=1),!function(t,e){return t.length>=e}(u.future,o))return u;var c=e(u.future),a=r(u.past,c);return{past:a,present:s(t,a),future:n(u.future)}}}(u);return function(e,n){switch(void 0===e&&(e=f),n.type){case t.UndoableTypes.UNDO:return o(e,n.payload,p);case t.UndoableTypes.REDO:return o(e,n.payload,l);case t.UndoableTypes.GROUP:return c(e,n.payload.reduce(u,e.present),n.payload,i);default:return c(e,u(e.present,n),n,i)}}};exports.undoable=function(t,e,n){return void 0===e&&(e={type:\"INIT\"}),void 0===n&&(n=function(t,e){return t===e}),{reducer:a(t,e,n),selectors:function(t){return{getPastStates:function(e){return e.past.slice(1,e.past.length).map(function(n,r){return s(t,e.past.slice(0,r+1))})},getPresentState:function(t){return t.present},getFutureStates:function(e){return e.future.slice().reverse().map(function(n,r){return s(t,e.past.concat(e.future.slice().reverse().slice(0,r+1)))})},getPastActions:function(t){return u(t.past)},getLatestAction:function(t){return u(t.past)[0]},getFutureActions:function(t){return u(t.future.slice().reverse())}}}(t)}};"},"hash":"2abcc4dec1d2f7218dafe01bd54b5138"}